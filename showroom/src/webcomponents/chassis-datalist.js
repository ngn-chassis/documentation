if (!customElements.get('chassis-datalist')) {
  customElements.define("chassis-datalist",function(){let a=new WeakMap;return class extends HTMLElement{constructor(){super(),this.keySource="key"in KeyboardEvent.prototype?"key":"keyIdentifier"in KeyboardEvent.prototype?"keyIdentifier":"keyCode",this.attachShadow({mode:"open"});let b=document.createElement("div");b.insertAdjacentHTML("afterbegin",`<template><style>@charset UTF-8; @charset "UTF-8";:host{display:inline-block;max-width:100%}:host *,:host :after,:host :before{box-sizing:border-box}:host ::slotted(chassis-options){height:0;overflow:hidden}:host([open]) ::slotted(chassis-options){height:auto}chassis-datalist{display:inline-block;max-width:100%}:host :after,:host :before,chassis-datalist *{box-sizing:border-box}chassis-datalist chassis-options{height:0;overflow:hidden}chassis-datalist[open] chassis-options{height:auto}</style><slot name="afterbegin"></slot><slot name="beforeinput"></slot><slot name="input"></slot><slot name="afterinput"></slot><slot name="beforedatalist"></slot><slot name="datalist"></slot><slot name="afterdatalist"></slot><slot name="beforeoptions"></slot><slot name="options"></slot><slot name="afteroptions"></slot><slot name="beforeend"></slot></template>`);let c=b.querySelector("template");"content"in c?this.shadowRoot.appendChild(c.content.cloneNode(!0)):c.childNodes.forEach(a=>{this.shadowRoot.appendChild(a.cloneNode(!0))}),c=null,this.crypto=null;try{this.crypto=crypto}catch(a){this.crypto=msCrypto}a.set(this,{sourceElement:null,addAttribute:b=>{Object.defineProperty(this,b,{get(){return this.getAttribute(b)},set(c){a.get(this).setAttributeValue(b,c)}})},addAttributes:b=>b.forEach(b=>a.get(this).addAttribute(b)),setAttributeValue:(b,c)=>{this.setAttribute(b,c),a.get(this).sourceElement&&(a.get(this).sourceElement[b]=c)},addReadOnlyProperty:b=>{let c="object"==typeof b;if(!c&&"string"!=typeof b)return console.error("ERROR <chassis-datalist> Read-only property must be type \"object\" or \"string\"");let d={set(){a.get(this).throw("readonly",{prop:c?b.name:b})}};d.get=c&&b.hasOwnProperty("get")?b.get:function(){return a.get(this)[b]},Object.defineProperty(this,c?b.name:b,d)},addReadOnlyProperties:b=>b.forEach(b=>a.get(this).addReadOnlyProperty(b)),setReadOnlyPropertyValue:b=>a.get(this)[prop]=b,addBooleanAttribute:b=>{Object.defineProperty(this,b,{get(){return a.get(this).getBooleanAttributeValue(b)},set(c){a.get(this).setBooleanAttributeValue(b,c)}})},addBooleanAttributes:b=>b.forEach(b=>a.get(this).addBooleanAttribute(b)),getBooleanAttributeValue:a=>this.hasAttribute(a)&&"false"!==this.getAttribute(a),setBooleanAttributeValue:(b,c)=>{"boolean"==typeof c&&(c=c.toString());if(!["true","false","",null].includes(c))return console.error(`<${this.localName}> "${b}" attribute expected boolean but received "${c}"`),this.removeAttribute(b),void(a.get(this).sourceElement&&(a.get(this).sourceElement[b]=!1));switch(c){case"false":case null:this.removeAttribute(b),a.get(this).sourceElement&&(a.get(this).sourceElement[b]=!1);break;case"true":case"":this.setAttribute(b,""),a.get(this).sourceElement&&(a.get(this).sourceElement[b]=!0);break;default:}},addPrivateProperties:b=>{for(let c in b)a.get(this)[c]=b[c]},generateGuid:(a=null)=>{let b="10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(a^this.crypto.getRandomValues(new Uint8Array(1))[0]&15>>a/4).toString(16));return a?`${a}_${b}`:b},throw:(a,b)=>{let c="ERROR <chassis-datalist> ";"readonly"===a?c+=`Cannot set read-only property "${b.prop}".`:c=c.trim();console.error(c)}}),this.clickCount=0,a.get(this).addReadOnlyProperty("options"),a.get(this).options=[],a.get(this).find=b=>a.get(this).options.filter(a=>{let c=this.hasAttribute("case-sensitive")?a.sourceElement.value:a.sourceElement.value.toLowerCase(),d=this.hasAttribute("case-sensitive")?a.sourceElement.text:a.sourceElement.text.toLowerCase();return b=this.hasAttribute("case-sensitive")?b:b.toLowerCase(),0<=c.indexOf(b)||0<=d.indexOf(b)}),a.get(this).clear=()=>{a.get(this).options.forEach(a=>a.displayElement.style.display="none")},a.get(this).showAllOptions=()=>{a.get(this).options.forEach(a=>a.displayElement.style.display="")},a.get(this).clickHandler=()=>{this.clickCount++,2===this.clickCount&&(a.get(this).showAllOptions(),this.open())},a.get(this).keydownHandler=b=>{if(!this.isOpen)return a.get(this).showAllOptions(),this.open();switch(b[this.keySource]){case 27:case"Escape":a.get(this).clear(),this.close();break;case 38:case"ArrowUp":b.preventDefault(),console.log("select previous option");break;case 40:case"ArrowDown":b.preventDefault(),console.log("select next option");break;default:}},a.get(this).inputHandler=()=>{a.get(this).clear();let b=a.get(this).inputEl.value;if(b){let c=a.get(this).find(b);return c.length?(c.forEach(a=>a.displayElement.style.display=""),void this.setAttribute("open","")):void(this.hasAttribute("open")&&this.removeAttribute("open"),a.get(this).clear())}},a.get(this).bodyClickHandler=a=>{a.target===this||this.contains(a.target)||this.removeAttribute("open")},a.get(this).getOptionById=b=>{let c,d=a.get(this).options;for(let a=0;a<d.length;a++)if(d[a].id===b){c=d[a];break}return c},a.get(this).generateOptionObject=b=>{if(!customElements.get("chassis-option"))return void console.error(`chassis-datalist requires chassis-option. Please include it in this document's <head> element.`);let c={id:a.get(this).generateGuid("option"),attributes:{},sourceElement:b};for(let a of b.attributes)c.attributes[a.name]=a.value;return c}}static get observedAttributes(){return["autofocus","case-sensitive","disabled","name","open","tabindex"]}get isOpen(){return this.hasAttribute("open")}set isOpen(a){a?this.setAttribute("open",""):this.removeAttribute("open")}get value(){return a.get(this).inputEl.value}connectedCallback(){a.get(this).inputEl.addEventListener("focus",()=>{this.addEventListener("keydown",a.get(this).keydownHandler)}),a.get(this).inputEl.addEventListener("input",a.get(this).inputHandler),a.get(this).inputEl.addEventListener("click",a.get(this).clickHandler),a.get(this).inputEl.addEventListener("blur",()=>{this.clickCount=0,this.removeEventListener("keydown",a.get(this).keydownHandler)}),setTimeout(()=>{this.hasAttribute("tabindex")||this.setAttribute("tabindex",0),this.autofocus&&this.focus()},0)}addChildren(b){for(let c of b)this.addOption(c instanceof HTMLElement?a.get(this).generateOptionObject(c):c)}addOption(b,c,d=a.get(this).optionsEl){if(!customElements.get("chassis-option"))return void console.error(`chassis-datalist requires chassis-option. Please include it in this document's <head> element.`);if(b.hasOwnProperty("id")||(b.id=a.get(this).generateGuid("option")),!b.hasOwnProperty("sourceElement")||!(b.sourceElement instanceof HTMLElement)){let a=document.createElement("option");b.hasOwnProperty("innerHTML")&&(a.innerHTML=b.innerHTML),b.hasOwnProperty("label")&&(a.innerHTML=b.label),b.hasOwnProperty("value")&&(a.value=b.value),b.hasOwnProperty("disabled")&&(a.disabled="boolean"==typeof b.disabled&&b.disabled),b.sourceElement=a}let e=b.sourceElement.getAttribute("label")||b.sourceElement.textContent.trim(),f=b.sourceElement.getAttribute("value"),g=b.sourceElement.disabled,h=document.createElement("chassis-option");return h.style.display="none",h.key=b.id,h.innerHTML=b.sourceElement.innerHTML,d.appendChild(h),h.addEventListener("click",()=>this.select(h.key)),b={attributes:{disabled:g,label:e,value:f},id:b.id,displayElement:h,sourceElement:b.sourceElement},c?(this[`${c}`]=b.sourceElement,void a.get(this).options.splice(c,0,b)):void(this[`${a.get(this).options.length}`]=b.sourceElement,a.get(this).options.push(b))}attributeChangedCallback(a,b,c){(a=a.toLowerCase(),c!==b)&&("autofocus"===a||"disabled"===a?console.log(a):"name"===a?console.log(a):"open"===a?this.isOpen?this.open():this.close():void 0)}close(){document.body.removeEventListener("click",a.get(this).bodyClickHandler),document.body.removeEventListener("touchcancel",a.get(this).bodyClickHandler),document.body.removeEventListener("touchend",a.get(this).bodyClickHandler),this.isOpen&&(this.isOpen=!1)}open(){document.body.addEventListener("click",a.get(this).bodyClickHandler),document.body.addEventListener("touchcancel",a.get(this).bodyClickHandler),document.body.addEventListener("touchend",a.get(this).bodyClickHandler),this.isOpen||(this.isOpen=!0)}inject(b,c,d){a.get(this).sourceEl=c,a.get(this).inputEl=b,a.get(this).inputEl.slot="input",a.get(this).inputEl.id=d,this.appendChild(a.get(this).inputEl),a.get(this).optionsEl=document.createElement("chassis-options"),a.get(this).optionsEl.slot="options",this.appendChild(a.get(this).optionsEl),this.addChildren(c.options)}select(b){let c=a.get(this).getOptionById(b);c&&(c.sourceElement.selected=!0,a.get(this).inputEl.value=c.displayElement.innerHTML,a.get(this).selectedOption=c,a.get(this).options.forEach(a=>a.displayElement.removeAttribute("selected")),c.displayElement.setAttribute("selected",""),this.dispatchEvent(new Event("input",{bubbles:!0})),this.close())}}}());
}
if (!customElements.get('chassis-option')) {
  customElements.define("chassis-option",function(){let a=new WeakMap;return class extends HTMLElement{constructor(){super(),this.keySource="key"in KeyboardEvent.prototype?"key":"keyIdentifier"in KeyboardEvent.prototype?"keyIdentifier":"keyCode",this.attachShadow({mode:"open"});let b=document.createElement("div");b.insertAdjacentHTML("afterbegin",`<template><style>@charset UTF-8; @charset "UTF-8";:host{contain:content;display:flex;flex-direction:column;max-width:100%}:host *,:host :after,:host :before{box-sizing:border-box}chassis-option{contain:content;display:flex;flex-direction:column;max-width:100%}:host :after,:host :before,chassis-option *{box-sizing:border-box}</style><slot name="afterbegin"></slot><slot name="beforeoption"></slot><slot></slot><slot name="afteroption"></slot><slot name="beforeend"></slot></template>`);let c=b.querySelector("template");"content"in c?this.shadowRoot.appendChild(c.content.cloneNode(!0)):c.childNodes.forEach(a=>{this.shadowRoot.appendChild(a.cloneNode(!0))}),c=null,this.crypto=null;try{this.crypto=crypto}catch(a){this.crypto=msCrypto}a.set(this,{sourceElement:null,addAttribute:b=>{Object.defineProperty(this,b,{get(){return this.getAttribute(b)},set(c){a.get(this).setAttributeValue(b,c)}})},addAttributes:b=>b.forEach(b=>a.get(this).addAttribute(b)),setAttributeValue:(b,c)=>{this.setAttribute(b,c),a.get(this).sourceElement&&(a.get(this).sourceElement[b]=c)},addReadOnlyProperty:b=>{let c="object"==typeof b;if(!c&&"string"!=typeof b)return console.error("ERROR <chassis-option> Read-only property must be type \"object\" or \"string\"");let d={set(){a.get(this).throw("readonly",{prop:c?b.name:b})}};d.get=c&&b.hasOwnProperty("get")?b.get:function(){return a.get(this)[b]},Object.defineProperty(this,c?b.name:b,d)},addReadOnlyProperties:b=>b.forEach(b=>a.get(this).addReadOnlyProperty(b)),setReadOnlyPropertyValue:b=>a.get(this)[prop]=b,addBooleanAttribute:b=>{Object.defineProperty(this,b,{get(){return a.get(this).getBooleanAttributeValue(b)},set(c){a.get(this).setBooleanAttributeValue(b,c)}})},addBooleanAttributes:b=>b.forEach(b=>a.get(this).addBooleanAttribute(b)),getBooleanAttributeValue:a=>this.hasAttribute(a)&&"false"!==this.getAttribute(a),setBooleanAttributeValue:(b,c)=>{"boolean"==typeof c&&(c=c.toString());if(!["true","false","",null].includes(c))return console.error(`<${this.localName}> "${b}" attribute expected boolean but received "${c}"`),this.removeAttribute(b),void(a.get(this).sourceElement&&(a.get(this).sourceElement[b]=!1));switch(c){case"false":case null:this.removeAttribute(b),a.get(this).sourceElement&&(a.get(this).sourceElement[b]=!1);break;case"true":case"":this.setAttribute(b,""),a.get(this).sourceElement&&(a.get(this).sourceElement[b]=!0);break;default:}},addPrivateProperties:b=>{for(let c in b)a.get(this)[c]=b[c]},generateGuid:(a=null)=>{let b="10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(a^this.crypto.getRandomValues(new Uint8Array(1))[0]&15>>a/4).toString(16));return a?`${a}_${b}`:b},throw:(a,b)=>{let c="ERROR <chassis-option> ";"readonly"===a?c+=`Cannot set read-only property "${b.prop}".`:c=c.trim();console.error(c)}}),this.parent=null,this.defaultSelected=!1,a.get(this).addAttributes(["id","label","value"]),a.get(this).addBooleanAttributes(["disabled","hover","selected"]),a.get(this).addReadOnlyProperties(["form",{name:"index",get(){return this.parent.options.findIndex(a=>a.displayElement===this)}}]),a.get(this).addPrivateProperties({form:null}),this.addEventListener("mouseover",()=>this.parent.mousedown?console.log("select me"):void this.parent.hoverOption(this.index)),this.addEventListener("focus",()=>{console.log("chassis-option")}),this.addEventListener("mousemove",()=>this.parent.hoverOption(this.index)),this.addEventListener("mouseout",()=>this.parent.unHoverOption(this.index))}static get observedAttributes(){return["disabled","hover","label","selected","value"]}get text(){return this.innerHTML}set text(a){this.innerHTML=a}attributeChangedCallback(b,c,d){if(b=b.toLowerCase(),d!==c)return"disabled"===b||"selected"===b||"hovered"===b?a.get(this).setBooleanAttributeValue(b,d):"label"===b||"value"===b?a.get(this).setAttributeValue(b,d):void 0}connectedCallback(){}/**
     * @method remove
     * Remove this option from the DOM.
     * @override
     */remove(a=!0){this.parent.options.splice(this.index,1),super.remove()}}}());
}
if (!customElements.get('chassis-options')) {
  customElements.define("chassis-options",function(){let a=new WeakMap;return class extends HTMLElement{constructor(){super(),this.keySource="key"in KeyboardEvent.prototype?"key":"keyIdentifier"in KeyboardEvent.prototype?"keyIdentifier":"keyCode",this.attachShadow({mode:"open"});let b=document.createElement("div");b.insertAdjacentHTML("afterbegin",`<template><style>@charset UTF-8; @charset "UTF-8";:host{display:block;width:100%}:host *,:host :after,:host :before{box-sizing:border-box}chassis-options{display:block;width:100%}:host :after,:host :before,chassis-options *{box-sizing:border-box}</style><slot name="afterbegin"></slot><slot name="beforeoptions"></slot><slot></slot><slot name="afteroptions"></slot><slot name="beforeend"></slot></template>`);let c=b.querySelector("template");"content"in c?this.shadowRoot.appendChild(c.content.cloneNode(!0)):c.childNodes.forEach(a=>{this.shadowRoot.appendChild(a.cloneNode(!0))}),c=null,this.crypto=null;try{this.crypto=crypto}catch(a){this.crypto=msCrypto}a.set(this,{sourceElement:null,addAttribute:b=>{Object.defineProperty(this,b,{get(){return this.getAttribute(b)},set(c){a.get(this).setAttributeValue(b,c)}})},addAttributes:b=>b.forEach(b=>a.get(this).addAttribute(b)),setAttributeValue:(b,c)=>{this.setAttribute(b,c),a.get(this).sourceElement&&(a.get(this).sourceElement[b]=c)},addReadOnlyProperty:b=>{let c="object"==typeof b;if(!c&&"string"!=typeof b)return console.error("ERROR <chassis-options> Read-only property must be type \"object\" or \"string\"");let d={set(){a.get(this).throw("readonly",{prop:c?b.name:b})}};d.get=c&&b.hasOwnProperty("get")?b.get:function(){return a.get(this)[b]},Object.defineProperty(this,c?b.name:b,d)},addReadOnlyProperties:b=>b.forEach(b=>a.get(this).addReadOnlyProperty(b)),setReadOnlyPropertyValue:b=>a.get(this)[prop]=b,addBooleanAttribute:b=>{Object.defineProperty(this,b,{get(){return a.get(this).getBooleanAttributeValue(b)},set(c){a.get(this).setBooleanAttributeValue(b,c)}})},addBooleanAttributes:b=>b.forEach(b=>a.get(this).addBooleanAttribute(b)),getBooleanAttributeValue:a=>this.hasAttribute(a)&&"false"!==this.getAttribute(a),setBooleanAttributeValue:(b,c)=>{"boolean"==typeof c&&(c=c.toString());if(!["true","false","",null].includes(c))return console.error(`<${this.localName}> "${b}" attribute expected boolean but received "${c}"`),this.removeAttribute(b),void(a.get(this).sourceElement&&(a.get(this).sourceElement[b]=!1));switch(c){case"false":case null:this.removeAttribute(b),a.get(this).sourceElement&&(a.get(this).sourceElement[b]=!1);break;case"true":case"":this.setAttribute(b,""),a.get(this).sourceElement&&(a.get(this).sourceElement[b]=!0);break;default:}},addPrivateProperties:b=>{for(let c in b)a.get(this)[c]=b[c]},generateGuid:(a=null)=>{let b="10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(a^this.crypto.getRandomValues(new Uint8Array(1))[0]&15>>a/4).toString(16));return a?`${a}_${b}`:b},throw:(a,b)=>{let c="ERROR <chassis-options> ";"readonly"===a?c+=`Cannot set read-only property "${b.prop}".`:c=c.trim();console.error(c)}}),this.parent=null,this.mousedown=!1,a.get(this).addReadOnlyProperties([{name:"form",get(){return this.parent.form}},{name:"displayOptions",get(){return new(a.get(this).ChassisHTMLOptionsCollection())(this.options.map(a=>a.displayElement),this.selectedIndex,(b,c)=>{this.add(a.get(this).generateOptionObject(b),c)},a=>this.removeOptionByIndex(a))}},{name:"hoveredIndex",get(){return this.options.findIndex(a=>a.displayElement.hover)}},"options",{name:"selectedOptions",get(){let b=this.querySelectorAll("[selected]");return new(a.get(this).ChassisHTMLCollection())(b)}}]),a.get(this).addPrivateProperties({options:[],selectionStartIndex:-1,selection:class{constructor(a){this.options=a}get length(){return this.options.length}append(a){this.options.push(a)}clear(){this.options=[]}prepend(a){this.options.unshift(a)}},optionConstructor(){let a=new WeakMap;return class{constructor(b,c,d,e){this.key=c,this.form=b.form,this.defaultSelected=d.selected,this.sourceElement=d,this.displayElement=e,this.displayElement.parent=b,this.displayElement.defaultSelected=d.selected,this.displayElement.innerHTML=d.innerHTML,this.displayElement.addEventListener("mousedown",a=>{b.select(c,a.shiftKey,a.ctrlKey,a.metaKey)});// Add additional attributes
for(let a of d.attributes){if("boolean"==typeof a.value){a.value?this.displayElement.setAttribute(a.name,""):this.displayElement.removeAttribute(a.name);continue}this.displayElement.setAttribute(a.name,a.value)}a.set(this,{attributes:{disabled:d.disabled,id:d.getAttribute("id"),label:d.getAttribute("label")||d.textContent.trim(),selected:d.selected,value:d.getAttribute("value").trim(),text:d.text.trim()}})}get disabled(){return a.get(this).attributes.disabled}set disabled(a){this.setAttr("disabled",a)}get index(){return this.sourceElement.index}get id(){return a.get(this).attributes.id}set id(a){this.setAttr("id",a)}get selected(){return a.get(this).attributes.selected}set selected(a){this.setAttr("selected",a)}get label(){return a.get(this).attributes.label}set label(a){this.setAttr("label",a)}get text(){return a.get(this).attributes.text}set text(a){this.setAttr("text",a)}get value(){return a.get(this).attributes.value}set value(a){this.setAttr("value",a)}remove(){this.sourceElement.remove(),this.displayElement.remove()}setAttr(b,c){this.sourceElement[b]=c,"boolean"==typeof c?c?this.displayElement.setAttribute(b,""):this.displayElement.removeAttribute(b):this.displayElement.setAttribute(b,c),a.get(this).attributes[b]=c}}},generateOptionObject:b=>customElements.get("chassis-option")?new(a.get(this).optionConstructor())(this,a.get(this).generateGuid(),b,document.createElement("chassis-option")):void console.error(`<chassis-select> requires <chassis-option>. Please include it in this document's <head> element.`),generateSourceOptionElement:a=>{let b=document.createElement("option");return a.hasOwnProperty("innerHTML")&&(b.innerHTML=a.innerHTML),a.hasOwnProperty("label")&&(b.innerHTML=a.label),a.hasOwnProperty("value")&&(b.value=a.value),a.hasOwnProperty("disabled")&&(b.disabled="boolean"==typeof a.disabled&&a.disabled),b},generateOptgroup:b=>{if(!customElements.get("chassis-optgroup"))return void console.error(`<chassis-select> requires <chassis-optgroup>. Please include it in this document's <head> element.`);let c=document.createElement("chassis-optgroup");c.id=a.get(this).generateGuid("optgroup");let d=b.getAttribute("label");if(!d||""===d.trim())return void console.error("<optgroup> must have a label attribute!");c.setAttribute("label",d);let e=b.querySelectorAll("option");for(let d of e)this.add(a.get(this).generateOptionObject(d),null,c);return c},ChassisHTMLCollection(){let a=new WeakMap;return class{constructor(b){a.set(this,{arr:b}),b.forEach((a,b)=>{this[b]=a,a.id&&(this[a.id]=a)})}get length(){return a.get(this).arr.length}item(b){return a.get(this).arr[b]}namedItem(b){let c=a.get(this).arr.filter(a=>a.id===b||a.name===b);return 0<c.length?c[0]:null}[Symbol.iterator](){let b=0;return{next:()=>{let c={value:a.get(this).arr[b],done:!(b in a.get(this).arr)};return b++,c}}}[Symbol.toStringTag](){return"ChassisHTMLCollection"}}},ChassisHTMLOptionsCollection:()=>{let b=new WeakMap,c=class extends a.get(this).ChassisHTMLCollection(){constructor(a,c=-1,d,e){super(a),this.selectedIndex=c,this.add=d,this.remove=e,b.set(this,{arr:a})}[Symbol.toStringTag](){return"ChassisHTMLOptionsCollection"}};return c},selectByKey:(b,...c)=>{let d=a.get(this).getOptionByKey(b);return d?void this.select(d,...c):(console.error(`Invalid option key "${b}"`),this.deselectAll())},selectByIndex:(a,...b)=>{let c=this.options[a];return c?void this.select(c,...b):0<=a?console.error(`No option at index ${a}`):void 0},selectByString:(a,...b)=>{let c;for(let d of this.options)if(d.key===a||d.id===a){c=d;break}return c?void this.select(c,...b):void console.error(`Option matching query "${key}" not found`)},selectOption:a=>{a.selected=!0,this.parent.selectedOptionsElement.add(a),this.parent.dispatchEvent(new Event("change",{bubbles:!0}))}}),this.addEventListener("mousedown",()=>this.mousedown=!0),this.addEventListener("mouseup",()=>this.mousedown=!1)}get selectedIndex(){return this.options.findIndex(a=>a.displayElement===this.selectedOptions.item(0))}set selectedIndex(a){this.select(a)}hoverOption(a){this.unHoverAllOptions(),this.options[a].displayElement.hover=!0}unHoverOption(a){this.options[a].displayElement.hover=!1}unHoverAllOptions(){this.options.forEach((a,b)=>this.unHoverOption(b))}connectedCallback(){a.get(this).selectionStartIndex=0<=this.selectedIndex?this.selectedIndex:0}add(b,c=null,d=this){return customElements.get("chassis-option")?void(b instanceof Option&&(b=a.get(this).generateOptionObject(b)),this.parent[`${b.index}`]=b.displayElement,c?(d.insertBefore(b.displayElement,d.children.item(c)),this.options.splice(c,0,b),this.parent.sourceElement.add(b.sourceElement,c)):(d.appendChild(b.displayElement),this.options.push(b),!this.parent.sourceElement[this.options.length-1]&&this.parent.sourceElement.appendChild(b.sourceElement)),b.selected&&a.get(this).selectByString(b.key,!1,!1,!1)):void console.error(`<chassis-select> requires <chassis-option>. Please include it in this document's <head> element.`)}addChildren(b){for(let c of b){let b=c instanceof HTMLElement;switch(c.nodeName){case"OPTION":this.add(b?a.get(this).generateOptionObject(c):c);break;case"OPTGROUP":this.addOptgroup(b?a.get(this).generateOptgroup(c):c);break;default:console.warn(`${c.nodeName.toLowerCase()} is not a valid child element for <chassis-select>. Removing...`);}}}addOptgroup(a){let b=document.createElement("chassis-optgroup-label");b.innerHTML=a.getAttribute("label"),this.appendChild(b),this.appendChild(a)}clear(){for(;this.lastChild;)this.removeChild(this.lastChild)}deselect(a){a.selected=!1,this.parent.selectedOptionsElement.remove(a)}deselectAll(){this.parent.selectedOptionsElement.clear(),this.options.filter(a=>a.selected).forEach(a=>this.deselect(a))}item(a){return this.options[a].displayElement}namedItem(a){let b=this.options.filter(b=>{let c=b.sourceElement.attributes.getNamedItem("id");return c&&c.value===a});return b.length?b[b.length-1].displayElement:null}/**
     * @method removeOptionByIndex
     * @param  {Number}  [index=null]
     * Index of option to remove
     * @param  {Boolean} [destroy=true]
     */removeOptionByIndex(a=null){null===a||a>=this.options.length||this.options[a].remove()}get start(){return a.get(this).selectionStartIndex}/**
     * [select description]
     * TODO: see if its possible to set Event.isTrusted to true for the change event dispatched in this method
     */select(b,c=!1,d=!1,e=!1){let f=Array.prototype.slice.call(arguments,1);if(Array.isArray(b))return console.log("Handle array of indexes");if("number"==typeof b)return a.get(this).selectByIndex(b,...f);if("string"==typeof b)return a.get(this).selectByString(b,...f);let g=new(a.get(this).selection)([b]);if(this.parent.multiple){if(c){let{selectionStartIndex:c}=a.get(this);if(1===this.selectedOptions.length){if(b.index===this.selectedIndex)return;if(g.clear(),b.index<this.selectedIndex)for(let a=this.selectedIndex;a>=b.index;a--)g.prepend(this.options[a]);if(b.index>this.selectedIndex)for(let a=this.selectedIndex;a<=b.index;a++)g.append(this.options[a])}if(1<this.selectedOptions.length&&b.index!==c){if(g.clear(),b.index<c)for(let a=c;a>=b.index;a--)g.prepend(this.options[a]);if(b.index>c)for(let a=c;a<=b.index;a++)g.append(this.options[a])}// return selection.options.forEach(option => console.log(option.displayElement))
}else if(d||e){if(b.selected)return this.deselect(b);g.append(b)}// Shift trumps other keys
// if (shiftKey) {
//
//
//   // if (option.index < selectionStartIndex) {
//   //   let upperBound = selectionStartIndex
//   //
//   //   if (this.selectedOptions.length > 1) {
//   //     upperBound += this.selectedOptions.length
//   //   }
//   //
//   //   for (let i = upperBound; i >= option.index; i--) {
//   //     options.unshift(this.options[i])
//   //   }
//   // }
//   //
//   // if (option.index > selectionStartIndex) {
//   //   for (let i = selectionStartIndex; i <= option.index; i++) {
//   //     options.push(this.options[i])
//   //   }
//   // }
// }
}else if(b.selected)return;1===g.length&&(a.get(this).selectionStartIndex=b.index),this.deselectAll(),g.options.forEach(b=>a.get(this).selectOption(b)),this.parent.multiple||(this.parent.open=!1),this.unHoverAllOptions()}}}());
}
