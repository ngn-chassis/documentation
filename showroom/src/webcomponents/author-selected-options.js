customElements.define("author-selected-options",class extends AuthorElement(HTMLElement){constructor(){super(`<template><style>@charset "UTF-8"; :host{contain:content;display:flex;max-width:100%}:host *,:host :after,:host :before{box-sizing:border-box}author-selected-options{contain:content;display:flex;max-width:100%}author-selected-options *,author-selected-options :after,author-selected-options :before{box-sizing:border-box}</style><slot name="afterbegin"></slot><slot name="beforecontents"></slot><div class="contents"><slot id="contents"></slot></div><slot name="aftercontents"></slot><div class="beforeend"><slot name="beforeend"></slot></div></template>`),this.UTIL.defineProperties({contentsElement:{readonly:!0,private:!0,default:this.shadowRoot.getElementById("contents")},options:{private:!0,default:[]}}),this.UTIL.definePrivateMethods({appendCaret:()=>{let a=24,b=24,c=document.createElementNS("http://www.w3.org/2000/svg","svg");c.slot="beforeend",c.setAttributeNS(null,"width",a),c.setAttributeNS(null,"height",b),c.setAttributeNS(null,"viewBox",`0 0 ${a} ${b}`),c.setAttributeNS(null,"fill","none"),c.setAttributeNS(null,"stroke","currentColor"),c.setAttributeNS(null,"stroke-width","3"),c.setAttributeNS(null,"stroke-linecap","square"),c.setAttributeNS(null,"stroke-linejoin","miter");let d=document.createElementNS("http://www.w3.org/2000/svg","polyline");d.setAttributeNS(null,"points","6 9 12 15 18 9"),c.appendChild(d),this.appendChild(c)},optionSelectionHandler:a=>{a.stopPropagation(),this.clear(0===a.detail.length),a.detail.forEach((b,c)=>this.add(b,c===a.detail.length-1))},parentStateChangeHandler:a=>{let{name:b,value:c}=a.detail;return"multiple"===b?c?this.off("mousedown",this.PRIVATE.mousedownHandler):this.on("mousedown",this.PRIVATE.mousedownHandler):void 0},mousedownHandler:()=>this.emit("toggle",null,this.parentNode)}),this.UTIL.registerListeners(this,{connected:()=>{this.PRIVATE.appendCaret(),this.update(),this.parentNode.on("state.change",this.PRIVATE.parentStateChangeHandler)},disconnected:()=>{this.parentNode.off("state.change",this.PRIVATE.parentStateChangeHandler)},mousedown:this.PRIVATE.mousedownHandler,"options.selected":this.PRIVATE.optionSelectionHandler})}get list(){return this.PRIVATE.options.map(a=>a.displayElement.text).join(", ")}add(a,b=!0){this.PRIVATE.options.push(a),b&&this.update()}clear(a=!0){this.PRIVATE.options=[],a&&this.update()}remove(a,b=!0){this.PRIVATE.options.splice(this.PRIVATE.options.indexOf(a),1),b&&this.update()}update(a=this.PRIVATE.options){a!==this.PRIVATE.options&&(this.PRIVATE.options=a),this.PRIVATE.contentsElement.innerHTML=0<a.length?this.list:this.parentNode.placeholder||""}});