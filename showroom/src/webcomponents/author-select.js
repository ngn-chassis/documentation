customElements.define("author-select",class extends AuthorElement(HTMLElement){constructor(){super(`<template><style>@charset "UTF-8"; :host{display:inline-block;max-width:100%}:host *,:host :after,:host :before{box-sizing:border-box}author-select{display:inline-block;max-width:100%}author-select *,author-select :after,author-select :before{box-sizing:border-box}</style><slot name="afterbegin"></slot><slot name="beforeselectedoptions"></slot><slot name="selectedoptions"></slot><slot name="afterselectedoptions"></slot><slot name="beforeoptions"></slot><slot name="options"></slot><slot name="afteroptions"></slot><slot name="beforeend"></slot></template>`),this.UTIL.defineProperties({form:{readonly:!0},hoveredIndex:{readonly:!0,get:()=>this.optionsElement.hoveredIndex},injected:{private:!0,default:!1},labels:{private:!0},middleware:{private:!0,default:{beforeChange:null,afterChange:null}},options:{readonly:!0,get:()=>this.optionsElement.displayOptions},optionsElement:{readonly:!0,get:()=>this.querySelector("author-options")},selectedOptions:{readonly:!0,get:()=>this.optionsElement?this.optionsElement.selectedOptions:null},selectedOptionsElement:{readonly:!0,get:()=>this.querySelector("author-selected-options")},title:{private:!0,default:""},type:{readonly:!0,get:()=>this.multiple?"select-multiple":"select-one"},willValidate:{readonly:!0},validationMessage:{readonly:!0},validity:{readonly:!0}}),this.UTIL.defineAttributes({name:"",placeholder:"",autofocus:!1,disabled:!1,multiple:!1,open:!1,required:!1,size:{get:()=>this.PRIVATE.throwSizeAttributeWarning(),set:()=>this.PRIVATE.throwSizeAttributeWarning()}}),this.UTIL.definePrivateMethods({addOpenListeners:()=>{document.body.addEventListener("mousedown",this.PRIVATE.bodyMousedownHandler),document.body.addEventListener("touchcancel",this.PRIVATE.bodyMousedownHandler),document.body.addEventListener("touchend",this.PRIVATE.bodyMousedownHandler)},blurHandler:()=>this.off("keydown",this.PRIVATE.keydownHandler),bodyMousedownHandler:a=>{a.target===this||this.contains(a.target)||(this.open=!1)},focusHandler:()=>this.on("keydown",this.PRIVATE.keydownHandler),keydownHandler:a=>{let b=-1<this.hoveredIndex?this.hoveredIndex:-1<this.selectedIndex?this.selectedIndex:-1;switch(a[this.keySource]){case 13:case"Enter":case 32:case" ":if(a.preventDefault(),!this.multiple){if(!this.open&&(32===a[this.keySource]||" "===a[this.keySource]))return void(this.open=!0);if(this.hoveredIndex===this.selectedIndex||-1===this.hoveredIndex)return void(this.open=!1);this.selectedIndex=this.hoveredIndex}break;case 38:case"ArrowUp":return a.preventDefault(),this.multiple||this.open?this.emit("keydown.arrowUp",{shiftKey:a.shiftKey,startIndex:b},this.optionsElement):void(this.open=!0);case 40:case"ArrowDown":return a.preventDefault(),this.multiple||this.open?this.emit("keydown.arrowDown",{shiftKey:a.shiftKey,startIndex:b},this.optionsElement):void(this.open=!0);default:}},optionSelectionHandler:a=>{a.stopPropagation();let{afterChange:b}=this.PRIVATE.middleware;this.dispatchEvent(new Event("change",{})),this.open&&this.removeAttribute("open"),this.emit("options.selected",a.detail.options,this.selectedOptionsElement),b&&"function"==typeof b&&b(a.detail.previous,this.selectedOptions)},removeOpenListeners:()=>{document.body.removeEventListener("mousedown",this.PRIVATE.bodyMousedownHandler),document.body.removeEventListener("touchcancel",this.PRIVATE.bodyMousedownHandler),document.body.removeEventListener("touchend",this.PRIVATE.bodyMousedownHandler)},stateChangeHandler:a=>{let{name:b,value:c}=a.detail;switch(b){case"open":return c?this.multiple?this.removeAttribute("open"):(this.optionsElement.unHoverAllOptions(),this.PRIVATE.addOpenListeners()):this.PRIVATE.removeOpenListeners();case"multiple":c&&this.hasAttribute("open")&&this.removeAttribute("open");break;default:}},throwSizeAttributeWarning:()=>{this.UTIL.printToConsole(`"size" attribute is not supported. Please use CSS to set the height of the options panel instead.`,"warning")},toggleHandler:()=>this.open=!this.open}),this.UTIL.registerListeners(this,{"attribute.change":a=>{let{attribute:b,oldValue:c,newValue:d}=a.detail;if(d!==c)switch(b){case"multiple":return this.emit("state.change",{name:"multiple",value:this.multiple});case"open":return this.emit("state.change",{name:"open",value:this.open});case"placeholder":this.selectedOptionsElement&&this.selectedOptionsElement.update();break;case"size":return this.PRIVATE.throwSizeAttributeWarning();default:}},blur:this.PRIVATE.blurHandler,focus:this.PRIVATE.focusHandler,"options.selected":this.PRIVATE.optionSelectionHandler,"state.change":this.PRIVATE.stateChangeHandler,toggle:this.PRIVATE.toggleHandler,rendered:()=>{this.hasAttribute("tabindex")||this.setAttribute("tabindex",0),this.autofocus&&this.focus()}})}static get observedAttributes(){return["autofocus","disabled","multiple","name","open","placeholder","tabindex","size"]}get afterChange(){return this.PRIVATE.middleware.afterChange}set afterChange(a){this.PRIVATE.middleware.afterChange=a.bind(this)}get beforeChange(){return this.PRIVATE.middleware.beforeChange}set beforeChange(a){this.PRIVATE.middleware.beforeChange=a.bind(this)}get length(){return this.options.length}get selectedIndex(){return this.optionsElement?this.optionsElement.selectedIndex:null}set selectedIndex(a){return 0>a?this.deselectAll():void(this.optionsElement.selectedIndex=a)}get value(){if(0===this.selectedOptions.length)return null;let a=this.selectedOptions.item(0);return a?a.value||a.text:null}add(a,b){this.optionsElement.add(a,b)}checkValidity(){return this.sourceElement.checkValidity()}clear(){this.optionsElement.clear(),this.selectedOptionsElement.clear()}deselectAll(){this.optionsElement.deselectAll()}inject(a,b){if(!this.PRIVATE.injected){this.UTIL.defineProperty("sourceElement",{readonly:!0,default:a});let c=document.createElement("author-selected-options");c.slot="selectedoptions";let d=document.createElement("author-options");if(d.slot="options",this.PRIVATE.labels=b,this.appendChild(c),this.appendChild(d),0<a.children.length){if(!this.multiple)for(let b of a.children)b.index!==a.selectedIndex&&b.removeAttribute("selected");this.optionsElement.addOptions(a.children),this.multiple||this.selectedOptionsElement.add(this.optionsElement.options[this.selectedIndex])}this.PRIVATE.injected=!0}}item(a){return this.optionsElement.item(a)}namedItem(a){return this.optionsElement.namedItem(a)}querySelector(a){return":checked"===a?0<this.selectedOptions.length?this.selectedOptions[0]:null:super.querySelector(a)}querySelectorAll(a){return":checked"===a?this.optionsElement.querySelectorAll("[selected]"):super.querySelectorAll(a)}remove(a=null){return null===a?super.remove():void this.optionsElement.removeOptionByIndex(a)}setCustomValidity(a){this.sourceElement.setCustomValidity(a)}[Symbol.toStringTag](){return"AuthorSelectElement"}});